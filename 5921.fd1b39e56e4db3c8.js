"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5921],{5921:(P,m,o)=>{o.r(m),o.d(m,{LibraryPageModule:()=>v});var l=o(6895),c=o(4719),n=o(7181),g=o(1543),i=o(6738),b=o(3191),d=o(148);function y(r,e){1&r&&i._UZ(0,"ion-spinner",9)}function f(r,e){if(1&r&&(i.TgZ(0,"ion-thumbnail",13),i._UZ(1,"img",14),i.qZA()),2&r){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("src",t.images[0].url,i.LSH)}}function h(r,e){if(1&r){const t=i.EpF();i.TgZ(0,"ion-item",11),i.NdJ("click",function(){const u=i.CHM(t).$implicit,T=i.oxw(2);return i.KtG(T.navigateToAlbums(u.id))}),i.YNc(1,f,2,1,"ion-thumbnail",12),i.TgZ(2,"ion-label")(3,"strong"),i._uU(4),i.qZA(),i.TgZ(5,"h2")(6,"em"),i._uU(7),i.qZA()()()()}if(2&r){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",!!t.images[0]),i.xp6(3),i.Oqu(t.name),i.xp6(3),i.Oqu(t.genres)}}function _(r,e){if(1&r&&(i.TgZ(0,"ion-list"),i.YNc(1,h,8,3,"ion-item",10),i.qZA()),2&r){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.artists)}}function p(r,e){if(1&r&&(i.TgZ(0,"ion-list")(1,"ion-item"),i._uU(2),i.qZA(),i.TgZ(3,"ion-item")(4,"h2"),i._uU(5),i.qZA(),i._UZ(6,"br"),i._uU(7),i.qZA()()),2&r){const t=i.oxw();i.xp6(2),i.lnq(" ",t.artists.length," artistas, ",t.albums.length," albums, ",t.tracks.length," pistas "),i.xp6(3),i.Oqu(t.elementoCargando.artist),i.xp6(2),i.hij(" ",t.elementoCargando.album," ")}}const Z=[{path:"",component:(()=>{class r{constructor(t,a,s){this.spotifyService=t,this.libraryService=a,this.router=s,this.cargando=!1,this.name=""}get artists(){return this.libraryService.artists.filter(t=>!0)}get albums(){return this.libraryService.albums}get tracks(){return this.libraryService.tracks}get elementoCargando(){return this.libraryService.cargando}ngOnInit(){this.spotifyService.autorizado||this.router.navigateByUrl("/login"),this.libraryService.loadLibrary().then(t=>this.cargando=!1,t=>{this.cargando=!1,this.libraryService.building=!1,alert("Error cargando la librer\xeda\n"+t)})}reloadLibrary(){this.cargando=!0,this.libraryService.loadLibrary(!0).then(t=>this.cargando=!1)}clearLibrary(){this.cargando=!0,this.libraryService.clearLibrary().then(()=>this.cargando=!1)}navigateToAlbums(t){this.router.navigateByUrl(`albums?artistId=${t}`)}}return r.\u0275fac=function(t){return new(t||r)(i.Y36(b.s),i.Y36(d.$),i.Y36(g.F0))},r.\u0275cmp=i.Xpm({type:r,selectors:[["app-library"]],decls:16,vars:4,consts:[["slot","start"],["name","library-outline","slot","start"],[2,"display","inline-block"],["slot","end",4,"ngIf"],["slot","end",3,"click"],["name","refresh-outline"],["name","trash-outline"],["showCancelButton","focus",3,"ngModel","ngModelChange"],[4,"ngIf"],["slot","end"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["style","margin-right: 1em;",4,"ngIf"],[2,"margin-right","1em"],[3,"src"]],template:function(t,a){1&t&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),i._UZ(3,"ion-menu-button")(4,"ion-icon",1),i.qZA(),i.TgZ(5,"ion-title",2),i._uU(6,"Biblioteca"),i.qZA(),i.YNc(7,y,1,0,"ion-spinner",3),i.TgZ(8,"ion-button",4),i.NdJ("click",function(){return a.reloadLibrary()}),i._UZ(9,"ion-icon",5),i.qZA(),i.TgZ(10,"ion-button",4),i.NdJ("click",function(){return a.clearLibrary()}),i._UZ(11,"ion-icon",6),i.qZA()(),i.TgZ(12,"ion-searchbar",7),i.NdJ("ngModelChange",function(u){return a.name=u}),i.qZA()(),i.TgZ(13,"ion-content"),i.YNc(14,_,2,1,"ion-list",8),i.YNc(15,p,8,5,"ion-list",8),i.qZA()),2&t&&(i.xp6(7),i.Q6J("ngIf",a.cargando),i.xp6(5),i.Q6J("ngModel",a.name),i.xp6(2),i.Q6J("ngIf",!a.cargando),i.xp6(1),i.Q6J("ngIf",a.cargando))},dependencies:[l.sg,l.O5,c.JJ,c.On,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.fG,n.VI,n.PQ,n.Bs,n.sr,n.wd,n.j9]}),r})()}];let L=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),r})(),v=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=i.oAB({type:r}),r.\u0275inj=i.cJS({imports:[l.ez,c.u5,n.Pc,L]}),r})()}}]);