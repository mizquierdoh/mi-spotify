"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5921],{5921:(P,m,o)=>{o.r(m),o.d(m,{LibraryPageModule:()=>v});var l=o(6895),c=o(4719),n=o(7181),g=o(1543),i=o(6738),b=o(3191),d=o(624);function f(t,e){1&t&&i._UZ(0,"ion-spinner",8)}function y(t,e){if(1&t&&(i.TgZ(0,"ion-thumbnail",12),i._UZ(1,"img",13),i.qZA()),2&t){const r=i.oxw().$implicit;i.xp6(1),i.Q6J("src",r.images[0].url,i.LSH)}}function h(t,e){if(1&t){const r=i.EpF();i.TgZ(0,"ion-item",10),i.NdJ("click",function(){const u=i.CHM(r).$implicit,T=i.oxw(2);return i.KtG(T.navigateToAlbums(u.id))}),i.YNc(1,y,2,1,"ion-thumbnail",11),i.TgZ(2,"ion-label")(3,"strong"),i._uU(4),i.qZA(),i.TgZ(5,"h2")(6,"em"),i._uU(7),i.qZA()()()()}if(2&t){const r=e.$implicit;i.xp6(1),i.Q6J("ngIf",!!r.images[0]),i.xp6(3),i.Oqu(r.name),i.xp6(3),i.Oqu(r.genres)}}function p(t,e){if(1&t&&(i.TgZ(0,"ion-list"),i.YNc(1,h,8,3,"ion-item",9),i.qZA()),2&t){const r=i.oxw();i.xp6(1),i.Q6J("ngForOf",r.artists)}}function _(t,e){if(1&t&&(i.TgZ(0,"ion-list")(1,"ion-item"),i._uU(2),i.qZA(),i.TgZ(3,"ion-item")(4,"h2"),i._uU(5),i.qZA(),i._UZ(6,"br"),i._uU(7),i.qZA()()),2&t){const r=i.oxw();i.xp6(2),i.lnq(" ",r.artists.length," artistas, ",r.albums.length," albums, ",r.tracks.length," pistas "),i.xp6(3),i.Oqu(r.elementoCargando.artist),i.xp6(2),i.hij(" ",r.elementoCargando.album," ")}}const Z=[{path:"",component:(()=>{class t{constructor(r,a,s){this.spotifyService=r,this.libraryService=a,this.router=s,this.cargando=!1,this.name=""}get artists(){return this.libraryService.artists.filter(r=>!0)}get albums(){return this.libraryService.albums}get tracks(){return this.libraryService.tracks}get elementoCargando(){return this.libraryService.cargando}ngOnInit(){this.spotifyService.autorizado||this.router.navigateByUrl("/login"),this.libraryService.loadLibrary().then(r=>this.cargando=!1,r=>{this.cargando=!1,this.libraryService.building=!1,alert("Error cargando la librer\xeda\n"+r)})}reloadLibrary(){this.cargando=!0,this.libraryService.loadLibrary(!0).then(r=>this.cargando=!1)}navigateToAlbums(r){this.router.navigateByUrl(`albums?artistId=${r}`)}}return t.\u0275fac=function(r){return new(r||t)(i.Y36(b.s),i.Y36(d.$),i.Y36(g.F0))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-library"]],decls:14,vars:4,consts:[["slot","start"],["name","library-outline","slot","start"],[2,"display","inline-block"],["slot","end",4,"ngIf"],["slot","end",3,"click"],["name","refresh-outline"],["showCancelButton","focus",3,"ngModel","ngModelChange"],[4,"ngIf"],["slot","end"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["style","margin-right: 1em;",4,"ngIf"],[2,"margin-right","1em"],[3,"src"]],template:function(r,a){1&r&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),i._UZ(3,"ion-menu-button")(4,"ion-icon",1),i.qZA(),i.TgZ(5,"ion-title",2),i._uU(6,"Biblioteca"),i.qZA(),i.YNc(7,f,1,0,"ion-spinner",3),i.TgZ(8,"ion-button",4),i.NdJ("click",function(){return a.reloadLibrary()}),i._UZ(9,"ion-icon",5),i.qZA()(),i.TgZ(10,"ion-searchbar",6),i.NdJ("ngModelChange",function(u){return a.name=u}),i.qZA()(),i.TgZ(11,"ion-content"),i.YNc(12,p,2,1,"ion-list",7),i.YNc(13,_,8,5,"ion-list",7),i.qZA()),2&r&&(i.xp6(7),i.Q6J("ngIf",a.cargando),i.xp6(3),i.Q6J("ngModel",a.name),i.xp6(2),i.Q6J("ngIf",!a.cargando),i.xp6(1),i.Q6J("ngIf",a.cargando))},dependencies:[l.sg,l.O5,c.JJ,c.On,n.YG,n.Sm,n.W2,n.Gu,n.gu,n.Ie,n.Q$,n.q_,n.fG,n.VI,n.PQ,n.Bs,n.sr,n.wd,n.j9]}),t})()}];let L=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[l.ez,c.u5,n.Pc,L]}),t})()}}]);